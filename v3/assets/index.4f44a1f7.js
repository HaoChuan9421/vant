import{F as V}from"./index.b9def6af.js";import{P as y}from"./index.2607c55c.js";import{c as X,e as K,u as L}from"./use-translate.3147781c.js";import{b as W,t as k,m as Z,n as q,w as G}from"./with-install.6d6d29d8.js";import{T as Q,a as Y}from"./index.b49726dc.js";import{I as B}from"./index.b95a2b81.js";import{z as N,C as S,x as U,e as a,L as I,q as T,D as O,B as M,r as R,o as _,a as ee,w as E,A as e,F as te}from"./vue-libs.4d090e76.js";import{d as le}from"./deep-clone.d6601c46.js";import"./constant.bdedcaa1.js";import"./index.00281548.js";import"./use-route.2644a9f9.js";import"./use-expose.89c20f56.js";import"./index.1f370f94.js";import"./useParent.fa48ddd0.js";import"./interceptor.d5bd5ad2.js";import"./use-touch.66e4202e.js";import"./index.4a4661ca.js";import"./utils.39620306.js";import"./index.cbbbdc40.js";import"./use-lazy-render.a4eed0b1.js";import"./on-popup-reopen.8d8043ad.js";import"./index.7f881137.js";import"./index.a3caa8a4.js";import"./useChildren.e93f4c15.js";import"./use-refs.5b149b49.js";import"./index.2ac6c8d0.js";function z(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!I(c)}const[oe,b,ue]=X("cascader"),ae={title:String,options:W(),closeable:k,swipeable:k,closeIcon:Z("cross"),modelValue:q,fieldNames:Object,placeholder:String,activeColor:String};var se=N({name:oe,props:ae,emits:["close","change","finish","click-tab","update:modelValue"],setup(c,{slots:u,emit:v}){const s=S([]),p=S(0),{text:x,value:h,children:C}=K({text:"text",value:"value",children:"children"},c.fieldNames),j=(o,n)=>{for(const d of o){if(d[h]===n)return[d];if(d[C]){const i=j(d[C],n);if(i)return[d,...i]}}},w=()=>{const{options:o,modelValue:n}=c;if(n!==void 0){const d=j(o,n);if(d){let i=o;s.value=d.map(m=>{const A={options:i,selected:m},F=i.find(J=>J[h]===m[h]);return F&&(i=F[C]),A}),i&&s.value.push({options:i,selected:null}),T(()=>{p.value=s.value.length-1});return}}s.value=[{options:o,selected:null}]},f=(o,n)=>{if(o.disabled)return;if(s.value[n].selected=o,s.value.length>n+1&&(s.value=s.value.slice(0,n+1)),o[C]){const m={options:o[C],selected:null};s.value[n+1]?s.value[n+1]=m:s.value.push(m),T(()=>{p.value++})}const d=s.value.map(m=>m.selected).filter(Boolean);v("update:modelValue",o[h]);const i={value:o[h],tabIndex:n,selectedOptions:d};v("change",i),o[C]||v("finish",i)},t=()=>v("close"),r=({name:o,title:n})=>v("click-tab",o,n),l=()=>a("div",{class:b("header")},[a("h2",{class:b("title")},[u.title?u.title():c.title]),c.closeable?a(B,{name:c.closeIcon,class:b("close-icon"),onClick:t},null):null]),g=(o,n,d)=>{const i=n&&o[h]===n[h],m=o.color||(i?c.activeColor:void 0),A=u.option?u.option({option:o,selected:i}):a("span",null,[o[x]]);return a("li",{class:[b("option",{selected:i,disabled:o.disabled}),o.className],style:{color:m},onClick:()=>f(o,d)},[A,i?a(B,{name:"success",class:b("selected-icon")},null):null])},$=(o,n,d)=>a("ul",{class:b("options")},[o.map(i=>g(i,n,d))]),P=(o,n)=>{let d;const{options:i,selected:m}=o,A=c.placeholder||ue("select"),F=m?m[x]:A;return a(Y,{title:F,titleClass:b("tab",{unselected:!m})},z(d=$(i,m,n))?d:{default:()=>[d]})},H=()=>{let o;return a(Q,{active:p.value,"onUpdate:active":n=>p.value=n,animated:!0,class:b("tabs"),color:c.activeColor,swipeThreshold:0,swipeable:c.swipeable,"onClick-tab":r},z(o=s.value.map(P))?o:{default:()=>[o]})};return w(),U(()=>c.options,w,{deep:!0}),U(()=>c.modelValue,o=>{o!==void 0&&s.value.map(d=>{var i;return(i=d.selected)==null?void 0:i[h]}).includes(o)||w()}),()=>a("div",{class:b()},[l(),H()])}});const D=G(se);var ne=[{text:"\u6D59\u6C5F\u7701",value:"330000",children:[{text:"\u676D\u5DDE\u5E02",value:"330100",children:[{text:"\u4E0A\u57CE\u533A",value:"330102"},{text:"\u4E0B\u57CE\u533A",value:"330103"},{text:"\u6C5F\u5E72\u533A",value:"330104"}]},{text:"\u5B81\u6CE2\u5E02",value:"330200",children:[{text:"\u6D77\u66D9\u533A",value:"330203"},{text:"\u6C5F\u5317\u533A",value:"330205"},{text:"\u5317\u4ED1\u533A",value:"330206"}]},{text:"\u6E29\u5DDE\u5E02",value:"330300",children:[{text:"\u9E7F\u57CE\u533A",value:"330302"},{text:"\u9F99\u6E7E\u533A",value:"330303"},{text:"\u74EF\u6D77\u533A",value:"330304"}]}]},{text:"\u6C5F\u82CF\u7701",value:"320000",children:[{text:"\u5357\u4EAC\u5E02",value:"320100",children:[{text:"\u7384\u6B66\u533A",value:"320102"},{text:"\u79E6\u6DEE\u533A",value:"320104"},{text:"\u5EFA\u90BA\u533A",value:"320105"}]},{text:"\u65E0\u9521\u5E02",value:"320200",children:[{text:"\u9521\u5C71\u533A",value:"320205"},{text:"\u60E0\u5C71\u533A",value:"320206"},{text:"\u6EE8\u6E56\u533A",value:"320211"}]},{text:"\u5F90\u5DDE\u5E02",value:"320300",children:[{text:"\u9F13\u697C\u533A",value:"320302"},{text:"\u4E91\u9F99\u533A",value:"320303"},{text:"\u8D3E\u6C6A\u533A",value:"320305"}]}]}],ie=[{text:"Zhejiang",value:"330000",children:[{text:"Hangzhou",value:"330100",children:[{text:"Shangcheng",value:"330102"},{text:"Xiacheng",value:"330103"},{text:"Jianggan",value:"330104"}]},{text:"Ningbo",value:"330200",children:[{text:"Haishu",value:"330203"},{text:"Jiangbei",value:"330205"},{text:"Beilun",value:"330206"}]},{text:"Wenzhou",value:"330300",children:[{text:"Lucheng",value:"330302"},{text:"Longwan",value:"330303"},{text:"Ouhai",value:"330304"}]}]},{text:"Jiangsu",value:"320000",children:[{text:"Nanjing",value:"320100",children:[{text:"Xuanwu",value:"320102"},{text:"Qinghuai",value:"320104"},{text:"Jianye",value:"320105"}]},{text:"Wuxi",value:"320200",children:[{text:"Xishan",value:"320205"},{text:"Huishan",value:"320206"},{text:"Binhu",value:"320211"}]},{text:"Xuzhou",value:"320300",children:[{text:"Gulou",value:"320302"},{text:"Yunlong",value:"320303"},{text:"Jiawang",value:"320305"}]}]}];const Te=N({setup(c){const u=L({"zh-CN":{area:"\u5730\u533A",options:ne,selectArea:"\u8BF7\u9009\u62E9\u5730\u533A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",asyncOptions:"\u5F02\u6B65\u52A0\u8F7D\u9009\u9879",asyncOptions1:[{text:"\u6D59\u6C5F\u7701",value:"330000",children:[]}],asyncOptions2:[{text:"\u676D\u5DDE\u5E02",value:"330100"},{text:"\u5B81\u6CE2\u5E02",value:"330200"}],customFieldNames:"\u81EA\u5B9A\u4E49\u5B57\u6BB5\u540D"},"en-US":{area:"Area",options:ie,selectArea:"Select Area",customColor:"Custom Color",asyncOptions:"Async Options",asyncOptions1:[{text:"Zhejiang",value:"330000",children:[]}],asyncOptions2:[{text:"Hangzhou",value:"330100"},{text:"Ningbo",value:"330200"}],customFieldNames:"Custom Field Names"}}),v=O({show:!1,value:"",result:""}),s=O({show:!1,value:null,result:""}),p=O({show:!1,value:null,result:"",options:u("asyncOptions1")}),x=O({show:!1,value:null,result:""}),h={text:"name",value:"code",children:"items"},C=M(()=>{const f=le(u("options")),t=r=>{"text"in r&&(r.name=r.text,delete r.text),"value"in r&&(r.code=r.value,delete r.value),"children"in r&&(r.items=r.children,delete r.children,r.items.forEach(t))};return f.forEach(t),f}),j=({value:f})=>{f==="330000"&&setTimeout(()=>{p.options[0].children=u("asyncOptions2")},500)},w=(f,{value:t,selectedOptions:r})=>{const l=r.map(g=>g.text||g.name).join("/");f.show=!1,f.value=t,f.result=l};return(f,t)=>{const r=R("demo-block");return _(),ee(te,null,[a(r,{card:"",title:e(u)("basicUsage")},{default:E(()=>[a(e(V),{modelValue:e(v).result,"onUpdate:modelValue":t[0]||(t[0]=l=>e(v).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[1]||(t[1]=l=>e(v).show=!0)},null,8,["modelValue","label","placeholder"]),a(e(y),{show:e(v).show,"onUpdate:show":t[5]||(t[5]=l=>e(v).show=l),round:"",teleport:"body",position:"bottom"},{default:E(()=>[a(e(D),{modelValue:e(v).value,"onUpdate:modelValue":t[2]||(t[2]=l=>e(v).value=l),title:e(u)("selectArea"),options:e(u)("options"),onClose:t[3]||(t[3]=l=>e(v).show=!1),onFinish:t[4]||(t[4]=l=>w(e(v),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),a(r,{card:"",title:e(u)("customColor")},{default:E(()=>[a(e(V),{modelValue:e(s).result,"onUpdate:modelValue":t[6]||(t[6]=l=>e(s).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[7]||(t[7]=l=>e(s).show=!0)},null,8,["modelValue","label","placeholder"]),a(e(y),{show:e(s).show,"onUpdate:show":t[11]||(t[11]=l=>e(s).show=l),round:"",teleport:"body",position:"bottom"},{default:E(()=>[a(e(D),{modelValue:e(s).value,"onUpdate:modelValue":t[8]||(t[8]=l=>e(s).value=l),title:e(u)("selectArea"),options:e(u)("options"),"active-color":"#1989fa",onClose:t[9]||(t[9]=l=>e(s).show=!1),onFinish:t[10]||(t[10]=l=>w(e(s),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),a(r,{card:"",title:e(u)("asyncOptions")},{default:E(()=>[a(e(V),{modelValue:e(p).result,"onUpdate:modelValue":t[12]||(t[12]=l=>e(p).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[13]||(t[13]=l=>e(p).show=!0)},null,8,["modelValue","label","placeholder"]),a(e(y),{show:e(p).show,"onUpdate:show":t[17]||(t[17]=l=>e(p).show=l),round:"",teleport:"body",position:"bottom"},{default:E(()=>[a(e(D),{modelValue:e(p).value,"onUpdate:modelValue":t[14]||(t[14]=l=>e(p).value=l),title:e(u)("selectArea"),options:e(p).options,onClose:t[15]||(t[15]=l=>e(p).show=!1),onChange:j,onFinish:t[16]||(t[16]=l=>w(e(p),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),a(r,{card:"",title:e(u)("customFieldNames")},{default:E(()=>[a(e(V),{modelValue:e(x).result,"onUpdate:modelValue":t[18]||(t[18]=l=>e(x).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[19]||(t[19]=l=>e(x).show=!0)},null,8,["modelValue","label","placeholder"]),a(e(y),{show:e(x).show,"onUpdate:show":t[23]||(t[23]=l=>e(x).show=l),round:"",teleport:"body",position:"bottom","safe-area-inset-bottom":""},{default:E(()=>[a(e(D),{modelValue:e(x).value,"onUpdate:modelValue":t[20]||(t[20]=l=>e(x).value=l),title:e(u)("selectArea"),options:e(C),"field-names":h,onClose:t[21]||(t[21]=l=>e(x).show=!1),onFinish:t[22]||(t[22]=l=>w(e(x),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"])],64)}}});export{Te as default};
